setDefaultTab("Tools")
CustomListItems = {
    ["This is not an error, ignore"] = 0,
	["Upgrade Crystal"] = 37180,
	["Bestiary Elixir"] = 36739,
	["Enchantment Crystal"] = 37181,
	["Faith Crystal"] = 37182,
	["Mind Crystal"] = 37183,
	["3 days premium medal"] = 9217,
	["Autoloot Item Slot Increaser"] = 21141,
	["Skull Remover"] = 9056,
	["Bronze Mount"] = 37165,
	["Bronze Outfit"] = 37175,
	["Bronze Shader"] = 37150,
	["Bronze Aura"] = 37159,
	["the Bronze Wings"] = 37167,
	["Gorgons Charge"] = 24975,
	["Harpies Charge"] = 12541,
	["the Silver Wings"] = 37170,
	["Silver Aura"] = 37162,
	["Silver Shader"] = 37178,
	["Silver Outfit"] = 37176,
	["Silver Mount"] = 37171,
	["Echidna Charge"] = 23521,
	["Chimera Charge"] = 24967,
	["Gold Mount"] = 37177,
	["Gold Outfit"] = 37169,
	["Gold Shader"] = 37172,
	["Gold Aura"] = 37179,
	["the Gold Wings"] = 37174,
	["Talos Charge"] = 25695,
	["1H No-PVP Scroll"] = 31433,
	["Scylla Charge"] = 14044,
	["Halloween Pumpkin"] = 3594,
    ["Minor Madness Token"] = 16128,
    ["Minor Skull Token"] = 21746,
    ["Madness Coin"] = 6526,	
    ["peanut"] = 841,
    ["Power gem"] = 3039,
    ["Demon Slayer Mana Rune"] = 3168,
    ["Selling key"] = 2972,
	["Archmage Gem"] = 3029,
	["Inferno Gem"] = 676,
	["Ice King Gem"] = 675,
	["Assassin Gem"] = 677,
	["God Set Upgrader"] = 9106,
	["Archmage Set Upgrader"] = 948,
	["Inferno Set Upgrader"] = 945,
	["Ice King Set Upgrader"] = 944,
	["Assassin Set Upgrader"] = 9107,
    ["Lightning Lord Set Upgrader"] = 9109,
	["Divine Set Upgrader"] = 943,
	["Lightning Lord Gem"] = 678,
    ["Caveman Amulet"] = 3021,
    ["Caveman Staff"] = 3074,
    ["Caveman Ring"] = 3004,
    ["Caveman Helmet"] = 7462,
    ["Caveman Shirt"] = 7463,
    ["Caveman Thong"] = 7464,
    ["Caveman Boots"] = 3552,
    ["Caveman Backpack"] = 2854,
    ["Caveman Shield"] = 7460,
    ["Caveman Bolt"] = 3446,
    ["Caveman Club"] = 7432,
    ["Caveman Axe"] = 7433,
    ["Caveman Sword"] = 3271,
    ["Mad Mace"] = 7415,
    ["Mad Axe"] = 3302,
    ["Mad Sword"] = 7406,
    ["Mad Bolt"] = 3450,
    ["Mad Shield"] = 3429,
    ["Mad Bag"] = 5927,
    ["Mad Helmet"] = 3369,
    ["Mad Amulet"] = 3012,
    ["Mad Staff"] = 7424,
    ["Mad Ring"] = 3053,
    ["Mad Boots"] = 3554,
    ["Mad Legs"] = 3371,
    ["Mad Armor"] = 3370,
    ["Demigod Part 1"] = 9042,
    ["Kings Outfit"] = 6578,
    ["Kings Mount"] = 7426,
    ["Kings Ring"] = 3091,
    ["Kings Staff"] = 7429,
    ["Kings Amulet"] = 3024,
    ["Kings Helmet"] = 3385,
    ["Kings Armor"] = 3381,
    ["Kings Legs"] = 3382,
    ["Kings Boots"] = 3550,
    ["Kings Bolt"] = 7363,
    ["Kings Shield"] = 3419,
    ["Kings Bag"] = 7343,
    ["Kings Sword"] = 3280,
    ["Kings Axe"] = 7456,
    ["Kings Mace"] = 7431,
    ["Kings Task Bonus"] = 36794,
    ["Dragon Slayer Mount"] = 16138,
    ["Dragon Slayer Outfit"] = 25062,
    ["Demigod Part 2"] = 9636,
    ["Dragon Slayer Amulet"] = 3085,
    ["Dragon Slayer Staff"] = 3065,
    ["Dragon Slayer Ring"] = 3052,
    ["Dragon Slayer Boots"] = 3556,
    ["Dragon Slayer Legs"] = 3363,
    ["Dragon Slayer Armor"] = 3386,
    ["Dragon Slayer Helmet"] = 3400,
    ["Dragon Slayer Backpack"] = 2872,
    ["Dragon Slayer Shield"] = 3422,
    ["Dragon Slayer Bolt"] = 6528,
    ["Dragon Slayer Task Bonus"] = 9667,
    ["Dragon Slayer Mace"] = 7422,
    ["Dragon Slayer Axe"] = 7388,
    ["Dragon Slayer Sword"] = 7405,
    ["Demigod Part 3"] = 6561,
    ["Bling Bling Outfit"] = 3231,
    ["Bling Bling Mount"] = 21974,
    ["Bling Bling Ring"] = 3006,
    ["Bling Bling Staff"] = 7410,
    ["Bling Bling Amulet"] = 3013,
    ["Bling Bling Helmet"] = 3365,
    ["Bling Bling Armor"] = 3360,
    ["Bling Bling Legs"] = 3364,
    ["Bling Bling Boots"] = 3555,
    ["Bling Bling Arrow"] = 3447,
    ["Bling Bling Shield"] = 3423,
    ["Bling Bling Backpack"] = 2871,
    ["Bling Bling Sword"] = 7391,
    ["Bling Bling Axe"] = 3331,
    ["Bling Bling Mace"] = 3332,
    ["Bling Bling Task Bonus"] = 9656,
    ["Demigod Part 4"] = 4852,
    ["Gladiator Outfit"] = 7140,
    ["Gladiator Mount"] = 19082,
    ["Gladiator Amulet"] = 3014,
    ["Gladiator Staff"] = 7387,
    ["Gladiator Ring"] = 3007,
    ["Gladiator Helmet"] = 3391,
    ["Gladiator Armor"] = 3397,
    ["Gladiator Legs"] = 3398,
    ["Gladiator Boots"] = 3079,
    ["Gladiator Backpack"] = 2870,
    ["Gladiator Shield"] = 3439,
    ["Gladiator Arrow"] = 7364,
    ["magic wall rune"] = 3180,
    ["Gladiator Sword"] = 7449,
    ["Gladiator Axe"] = 7411,
    ["Gladiator Mace"] = 7392,
    ["Gladiator Task Bonus"] = 10302,
    ["Demigod Part 5"] = 946,
    ["Demon Slayer Outfit"] = 7393,
    ["Demon Slayer Mount"] = 23517,
    ["Demon Slayer Amulet"] = 3081,
    ["Demon Slayer Staff"] = 7430,
    ["Demon Slayer Ring"] = 6299,
    ["Demon Slayer Helmet"] = 3387,
    ["Demon Slayer Armor"] = 3388,
    ["Demon Slayer Legs"] = 3389,
    ["Demon Slayer Backpack"] = 5926,
    ["Demon Slayer Shield"] = 6390,
    ["Demon Slayer Arrow"] = 763,
    ["Demon Slayer Sword"] = 7416,
    ["Demon Slayer Mace"] = 3309,
    ["Demon Slayer Axe"] = 7419,
    ["Demon Slayer Task Bonus"] = 9633,
    ["Demon Slayer Boots"] = 5461,
    ["Mages COD Rune"] = 3150,
    ["Paladins AOD Rune"] = 3190,
    ["Knights COD Rune"] = 3182,
    ["Demigod Part 6"] = 3023,
    ["Lightning Lord Outfit"] = 9249,
    ["Lightning Lord Mount"] = 22083,
    ["Lightning Lord Hammer"] = 3310,
    ["crate"] = 2471,
    ["Lightning Lord Soul Stone"] = 5809,
    ["Lightning Lord Ring"] = 3051,
    ["Lightning Lord Staff"] = 7451,
    ["Lightning Lord Amulet"] = 816,
    ["Lightning Lord Helmet"] = 828,
    ["Lightning Lord Armor"] = 825,
    ["Lightning Lord Legs"] = 822,
    ["Lightning Lord Boots"] = 820,
    ["Lightning Lord Mana Rune"] = 3165,
    ["Lightning Lord Arrow"] = 761,
    ["Lightning Lord Shield"] = 3413,
    ["Lightning Lord Backpack"] = 5949,
    ["Lightning Lord Sword"] = 7420,
    ["Lightning Lord Mace"] = 3333,
    ["Lightning Lord Axe"] = 7454,
    ["Lightning Lord Task Bonus"] = 33982,
    ["Demigod Part 7"] = 5958,
    ["Assassin Outfit"] = 9027,
    ["Assassin Mount"] = 23686,
    ["Assassin Prybar"] = 3304,
    ["Assassin Death Worm"] = 3492,
    ["Assassin Ring"] = 3092,
    ["Assassin Staff"] = 3343,
    ["Assassin Amulet"] = 814,
    ["Assassin Helmet"] = 830,
    ["Assassin Armor"] = 811,
    ["Assassin Legs"] = 812,
    ["Assassin Boots"] = 813,
    ["Assassin Mana Rune"] = 3169,
    ["Assassin Arrow"] = 774,
    ["Assassin Shield"] = 3414,
    ["Assassin Backpack"] = 7342,
    ["Assassin Sword"] = 6527,
    ["Assassin Axe"] = 3303,
    ["Assassin Mace"] = 3312,
    ["Assassin Task Bonus"] = 5899,
    ["Demigod Part 8"] = 8151,
    ["Ice King Outfit"] = 31354,
    ["Ice King Mount"] = 31333,
    ["Ice King Skull Basher"] = 9697,
    ["Ice King Frozen Tear"] = 8746,
    ["Ice King Ring"] = 3049,
    ["Ice King Staff"] = 3067,
    ["Ice King Amulet"] = 815,
    ["Ice King Helmet"] = 829,
    ["Ice King Armor"] = 824,
    ["Ice King Legs"] = 823,
    ["Ice King Boots"] = 819,
    ["Ice King Mana Rune"] = 3170,
    ["Ice King Arrow"] = 762,
    ["Ice King Shield"] = 3442,
    ["Ice King Backpack"] = 2869,
    ["Ice King Sword"] = 7407,
    ["Ice King Axe"] = 7455,
    ["Ice King Mace"] = 7450,
    ["Ice King Task Bonus"] = 23507,
    ["Deepness Teleport"] = 6542,
    ["Demigod Part 9"] = 3240,
    ["Inferno Outfit"] = 15801,
    ["Inferno Mount"] = 3215,
    ["Inferno Hammer"] = 7437,
    ["Essence of Inferno"] = 6499,
    ["Inferno Ring"] = 3098,
    ["Inferno Staff"] = 7379,
    ["Inferno Amulet"] = 817,
    ["Inferno Helmet"] = 3390,
    ["Inferno Armor"] = 826,
    ["Inferno Legs"] = 821,
    ["Inferno Boots"] = 818,
    ["4th Promotion Scroll"] = 3232,
    ["Inferno Backpack"] = 3253,
    ["Inferno Shield"] = 3433,
    ["Inferno Arrow"] = 7365,
    ["Inferno Mana Rune"] = 3171,
    ["Inferno Sword"] = 7402,
    ["Inferno Axe"] = 7413,
    ["Inferno Mace"] = 7381,
    ["Frozen Hunk of Space Poopy"] = 5892,
    ["Inferno Task Bonus"] = 16131,
    ["Demigod Part 10"] = 9307,
    ["Archmage Outfit"] = 3236,
    ["Archmage Mount"] = 36835,
    ["Archmage Ice Cube"] = 7441,
    ["Archmage Amulet"] = 3082,
    ["Archmage Staff"] = 3341,
    ["Archmage Ring"] = 2971,
    ["Archmage Ice Shard"] = 9251,
    ["Archmage Helmet"] = 3574,
    ["Archmage Armor"] = 3567,
    ["Archmage Legs"] = 645,
    ["Archmage Boots"] = 6529,
    ["5th Promotion Scroll"] = 347,
    ["Archmage Bag"] = 2861,
    ["Archmage Shield"] = 3434,
    ["Archmage Arrow"] = 3239,
    ["Archmage Mana Rune"] = 3167,
    ["Archmage Sword"] = 7382,
    ["Archmage Axe"] = 6553,
    ["Archmage Mace"] = 7421,
    ["Archmage Task Bonus"] = 23511,
    ["Inferno Task Bonus"] = 23511,
	["Bladecraft Elixir"] = 36738,
	["Crusader Elixir"] = 36736,
	["Vitality Elixir"] = 36737,
    ["Demigod Part 11"] = 8148,
    ["Heimdall Outfit"] = 23679,
    ["Hestia Mount"] = 25089,
    ["Surt Firlefanz"] = 896,
    ["Theseus Sunflare"] = 36669,
    ["Triethylene's Heart"] = 5943,
    ["Lokis Staff"] = 895,
    ["Dionysus Ring"] = 3097,
    ["Heras Staff"] = 3070,
    ["God Amulet"] = 9221,
    ["Apollos Helmet"] = 3011,
    ["Hades Tunic"] = 3564,
    ["Poseidons Legs"] = 3362,
    ["Hermes Sandals"] = 3551,
    ["Slirpa's Brain"] = 5808,
    ["Elimination Rune"] = 3185,
    ["God Mana Rune"] = 3157,
    ["Artemis Spear"] = 3347,
    ["Aphrodites Shield"] = 3427,
    ["Dameters Nature Bag"] = 2857,
    ["Ares Sword"] = 3334,
    ["Athenas Axe"] = 8097,
    ["Hephaetus Mace"] = 3325,
    ["Gods Task Bonus"] = 12803,
    ["Titans Mount"] = 14011,
    ["Titans Outfit"] = 29288,
    ["Titans Amulet"] = 9302,
    ["Titans Scepter"] = 11362,
    ["Titans Ring"] = 9220,
    ["Titans Helmet"] = 3407,
    ["Titans Armor"] = 8052,
    ["Titans Legs"] = 9014,
    ["Titans Boots"] = 10201,
    ["Titans Mana Rune"] = 3161,
    ["Titan Set Upgrader"] = 954,
    ["Titans Shield"] = 8081,
    ["Titans Bag"] = 2864,
    ["Titan Wings"] = 16277,
    ["Titan Aura"] = 21841,
    ["Demi Task Bonus"] = 36778,
    ["Divine Outfit"] = 32623,
    ["Divine Mount"] = 31573,
    ["Divine Blade"] = 8103,
    ["Divine Necklace"] = 3008,
    ["Divine Ring"] = 3048,
    ["Divine Legs"] = 8863,
    ["Divine Chestplate"] = 8862,
    ["Divine Helmet"] = 8864,
    ["Divine Boots"] = 9017,
    ["Divine Mana Rune"] = 3162,
    ["Divine Protector"] = 3415,
    ["Divine Holder"] = 8860,
    ["Divine Wings"] = 28536,
    ["Divine Aura"] = 3243,
    ["Titans Task Bonus"] = 31678,
    ["walnut"] = 836,
    ["wild growth rune"] = 3156,
    ["Cake Circle of Death"] = 6393,
	["Skull Token"] = 3040,
    ["Atlas Amulet"] = 16113,
    ["Atlas Lance"] = 16160,
    ["Atlas Ring"] = 16114,
    ["Atlas Task Bonus"] = 23519,
    ["Atlas Wings"] = 30009,
    ["Atlas Boots"] = 16112,
    ["Atlas Legs"] = 16111,
    ["Atlas Armor"] = 16110,
    ["Atlas Helmet"] = 16109,
    ["Atlas Outfit"] = 18343,
    ["Atlas Mount"] = 25696,
    ["Atlas Backpack"] = 16100,
    ["Atlas Shield"] = 16116,
    ["Atlas Aura"] = 30168,
    ["Phoebe Amulet"] = 22082,
    ["Phoebe Taser"] = 11693,
    ["Phoebe Ring"] = 9219,
    ["Phoebe Task Bonus"] = 10306,
    ["Phoebe Boots"] = 6530,
    ["Phoebe Wings"] = 14682,
    ["Phoebe Aura"] = 15703,
    ["Phoebe Legs"] = 10438,
    ["Phoebe Armor"] = 8040,
    ["Phoebe Helmet"] = 3393,
    ["Phoebe Outfit"] = 36979,
    ["Phoebe Mount"] = 35576,
    ["Phoebe Backpack"] = 10202,
    ["Phoebe Shield"] = 3437,
    ["Crius Amulet"] = 22061,
    ["Crius Smasher"] = 14001,
    ["Crius Ring"] = 19359,
    ["Crius Task Bonus"] = 30318,
    ["Crius Outfit"] = 5802,
    ["Crius Helmet"] = 20276,
    ["Crius Armor"] = 13993,
    ["Crius Legs"] = 13999,
    ["Crius Boots"] = 10323,
    ["Crius Wings"] = 20047,
    ["Crius Aura"] = 20055,
    ["Crius Shield"] = 14000,
    ["Crius Backpack"] = 14248,
    ["Crius Mount"] = 36796,
    ["Eurynome Amulet"] = 9303,
    ["Eurynome Longblade"] = 16175,
    ["Eurynome Ring"] = 12669,
    ["Eurynome Task Bonus"] = 23508,
    ["Eurynome Wings"] = 29287,
    ["Eurynome Boots"] = 10200,
    ["Eurynome Legs"] = 19366,
    ["Eurynome Armor"] = 8050,
    ["Eurynome Helmet"] = 19369,
    ["Eurynome Outfit"] = 21962,
    ["Eurynome Mount"] = 20184,
    ["Eurynome Backpack"] = 21445,
    ["Eurynome Shield"] = 19363,
    ["Eurynome Aura"] = 21466,
    ["Lelantos Amulet"] = 12542,
    ["Lelantos Mindslicer"] = 20069,
    ["Lelantos Ring"] = 19361,
    ["Lelantos Task Bonus"] = 31443,
    ["Lelantos Wings"] = 4871,
    ["Lelantos Boots"] = 13997,
    ["Lelantos Legs"] = 13996,
    ["Lelantos Armor"] = 13994,
    ["Lelantos Helmet"] = 13995,
    ["Lelantos Outfit"] = 12570,
    ["Lelantos Mount"] = 10294,
    ["Lelantos Backpack"] = 12517,
    ["Lelantos Shield"] = 13998,
    ["Lelantos Aura"] = 25689,
    ["Metis Task Bonus"] = 25742,
    ["Metis Ring"] = 16102,
    ["Metis Bloodspiller"] = 14763,
    ["Metis Amulet"] = 16108,
    ["Metis Outfit"] = 36481,
    ["Metis Helmet"] = 16104,
    ["Metis Armor"] = 16105,
    ["Metis Legs"] = 16106,
    ["Metis Boots"] = 19374,
    ["Metis Wings"] = 31619,
    ["Metis Aura"] = 30083,
    ["Metis Shield"] = 16107,
    ["Metis Backpack"] = 16099,
    ["Metis Mount"] = 9611,
    ["Aries Shader"] = 37145,
    ["Aries Amulet"] = 37060,
    ["Aries Incinerator"] = 37057,
    ["Aries Ring"] = 37058,
    ["Aries Task Bonus"] = 37188,
    ["Aries Mount"] = 37146,
    ["Aries Boots"] = 37055,
    ["Aries Legs"] = 37054,
    ["Aries Armor"] = 37053,
    ["Aries Helmet"] = 37052,
    ["Aries Aura"] = 37144,
    ["Aries Wings"] = 37147,
    ["Aries Backpack"] = 37059,
    ["Aries Shield"] = 37056,
    ["Aries Outfit"] = 37148,
    ["Taurus Task Bonus"] = 37189,
    ["Taurus Ring"] = 37093,
    ["Taurus Sovereign"] = 37095,
    ["Taurus Amulet"] = 37096,
    ["Taurus Shader"] = 37139,
    ["Taurus Aura"] = 37140,
    ["Taurus Helmet"] = 37089,
    ["Taurus Armor"] = 37090,
    ["Taurus Legs"] = 37091,
    ["Taurus Boots"] = 37092,
    ["Taurus Mount"] = 37143,
    ["Taurus Outfit"] = 37142,
    ["Taurus Shield"] = 37088,
    ["Taurus Backpack"] = 37094,
    ["Taurus Wings"] = 37141,
    ["Gemini Shader"] = 37135,
    ["Gemini Amulet"] = 37087,
    ["Gemini Thornwhip"] = 37085,
    ["Gemini Ring"] = 37084,
    ["Gemini Task Bonus"] = 37190,
    ["Gemini Mount"] = 37137,
    ["Gemini Boots"] = 37083,
    ["Gemini Legs"] = 37082,
    ["Gemini Armor"] = 37081,
    ["Gemini Helmet"] = 37080,
    ["Gemini Aura"] = 37134,
    ["Gemini Wings"] = 37136,
    ["Gemini Backpack"] = 37086,
    ["Gemini Shield"] = 37079,
    ["Gemini Outfit"] = 37138,
    ["Seraphix Mount"] = 37222,
    ["Seraphix Outfit"] = 37224,
    ["Seraphix Wings"] = 37203,
    ["Seraphix Aura"] = 37201,
    ["Seraphix Shader"] = 37202,
    ["Seraphix Amulet"] = 37077,
    ["Seraphix Celestia"] = 37078,
    ["Seraphix Ring"] = 37075,
    ["Seraphix Helmet"] = 37071,
    ["Seraphix Armor"] = 37072,
    ["Seraphix Legs"] = 37073,
    ["Seraphix Boots"] = 37074,
    ["Seraphix Shield"] = 37070,
    ["Seraphix Backpack"] = 37076,
    ["Cyclonius Amulet"] = 37069,
    ["Cyclonius Tempestus"] = 37067,
    ["Cyclonius Mount"] = 37210,
    ["Cyclonius Outfit"] = 37211,
    ["Cyclonius Wings"] = 37209,
    ["Cyclonius Aura"] = 37207,
    ["Cyclonius Shader"] = 37208,
    ["Cyclonius Ring"] = 37068,
    ["Cyclonius Boots"] = 37064,
    ["Cyclonius Legs"] = 37063,
    ["Cyclonius Armor"] = 37062,
    ["Cyclonius Helmet"] = 37061,
    ["Cyclonius Backpack"] = 37066,
    ["Cyclonius Shield"] = 37065,
    ["Pyroclaw Mount"] = 37216,
    ["Pyroclaw Outfit"] = 37217,
    ["Pyroclaw Wings"] = 37215,
    ["Pyroclaw Aura"] = 37213,
    ["Pyroclaw Shader"] = 37214,
    ["Pyroclaw Amulet"] = 37199,
    ["Pyroclaw Hellflare"] = 37197,
    ["Pyroclaw Ring"] = 37200,
    ["Pyroclaw Boots"] = 37195,
    ["Pyroclaw Legs"] = 37194,
    ["Pyroclaw Armor"] = 37193,
    ["Pyroclaw Helmet"] = 37192,
    ["Pyroclaw Backpack"] = 37198,
    ["Pyroclaw Shield"] = 37196,
    ["Primary Cyclonius Fragment"] = 37230,
    ["Secondary Cyclonius Fragment"] = 37231,
    ["Tertiary Cyclonius Fragment"] = 37232,
    ["Primary Cyclonius Fragment"] = 37230,
    ["Soap"] = 35595,
    ["Fenrir Protected Key"] = 20272,
    ["Primary Seraphix Fragment"] = 37227,
    ["Secondary Seraphix Fragment"] = 37228,
    ["Tertiary Seraphix Fragment"] = 37229,
    ["Primary Pyroclaw Fragment"] = 37233,
    ["Secondary Pyroclaw Fragment"] = 37234,
    ["Tertiary Pyroclaw Fragment"] = 37235,
    ["Second Rebirth Scroll"] = 11510,
    ["Fourth Rebirth Scroll"] = 21467,
    ["Sixth Rebirth Scroll"] = 25718,
    ["Aurelios Mount"] = 37269,
    ["Aurelios Outfit"] = 37268,
    ["Aurelios Wings"] = 37267,
    ["Aurelios Aura"] = 37270,
    ["Aurelios Shader"] = 37271,
    ["Eighth Rebirth Scroll"] = 22772,
    ["Primary Aurelios Fragment"] = 37264,
    ["Secondary Aurelios Fragment"] = 37265,
    ["Tertiary Aurelios Fragment"] = 37266,
    ["Aurelios Necklace"] = 37245,
    ["Aurelios Helmet"] = 37238,
    ["Aurelios Backpack"] = 37237,
    ["Aurelios Shield"] = 37242,
    ["Aurelios Armor"] = 37239,
    ["Aurelios Judgment"] = 37243,
    ["Aurelios Ring"] = 37244,
    ["Aurelios Legs"] = 37240,
    ["Aurelios Boots"] = 37241,
    ["Elysium Mount"] = 37277,
    ["Elysium Outfit"] = 37276,
    ["Elysium Wings"] = 37278,
    ["Elysium Aura"] = 37279,
    ["Elysium Shader"] = 37280,
    ["Tenth Rebirth Scroll"] = 21897,
    ["Primary Elysium Fragment"] = 37273,
    ["Secondary Elysium Fragment"] = 37274,
    ["Tertiary Elysium Fragment"] = 37275,
    ["Elysium Amulet"] = 37254,
    ["Elysium Helmet"] = 37247,
    ["Elysium Backpack"] = 37246,
    ["Elysium Shield"] = 37251,
    ["Elysium Armor"] = 37248,
    ["Elysium Radiance"] = 37252,
    ["Elysium Ring"] = 37253,
    ["Elysium Legs"] = 37249,
    ["Elysium Boots"] = 37250,
    ["Tormentis Mount"] = 37286,
    ["Tormentis Outfit"] = 37285,
    ["Tormentis Wings"] = 37287,
    ["Tormentis Aura"] = 37288,
    ["Tormentis Shader"] = 37289,
    ["Twelveth Rebirth Scroll"] = 28650,
    ["Primary Tormentis Fragment"] = 37282,
    ["Secondary Tormentis Fragment"] = 37283,
    ["Tertiary Tormentis Fragment"] = 37284,
    ["Tormentis Ring"] = 37262,
    ["Tormentis Helmet"] = 37256,
    ["Tormentis Backpack"] = 37255,
    ["Tormentis Shield"] = 37260,
    ["Tormentis Armor"] = 37257,
    ["Tormentis Frostfire"] = 37261,
    ["Tormentis Legs"] = 37258,
    ["Tormentis Boots"] = 37259,
}

local MAX_SLOTS = storage.MAX_SLOTS or 3

local ui = UI.createWidget("AutolootSwap")
local items_list = ui:recursiveGetChildById("items")
local itemTextEdit = ui:recursiveGetChildById("ALItem")
local removeCommandFlag = false -- Flag to control remove command execution

-- Check and initialize storage.ALSwap with default values if necessary
if not storage.ALSwap then
    storage.ALSwap = {}
end

-- Levenshtein distance function
function levenshtein(str1, str2)
    local len1, len2 = #str1, #str2
    local matrix = {}

    for i = 0, len1 do
        matrix[i] = {}
        for j = 0, len2 do
            if i == 0 then
                matrix[i][j] = j
            elseif j == 0 then
                matrix[i][j] = i
            else
                local cost = str1:sub(i, i) ~= str2:sub(j, j) and 1 or 0
                matrix[i][j] = math.min(
                    matrix[i - 1][j] + 1,
                    matrix[i][j - 1] + 1,
                    matrix[i - 1][j - 1] + cost
                )
            end
        end
    end

    return matrix[len1][len2]
end

-- Levenshtein distance function
function levenshtein(str1, str2)
    local len1, len2 = #str1, #str2
    local matrix = {}

    for i = 0, len1 do
        matrix[i] = {}
        for j = 0, len2 do
            if i == 0 then
                matrix[i][j] = j
            elseif j == 0 then
                matrix[i][j] = i
            else
                local cost = str1:sub(i, i) ~= str2:sub(j, j) and 1 or 0
                matrix[i][j] = math.min(
                    matrix[i - 1][j] + 1,
                    matrix[i][j - 1] + 1,
                    matrix[i - 1][j - 1] + cost
                )
            end
        end
    end

    return matrix[len1][len2]
end

function addLootItemByName()
    local itemTextEdit = ui:recursiveGetChildById("ALItem") -- Get the text edit field
    local itemName = storage.ALItem -- Get the text from the text edit field
    if itemName and itemName ~= "" then
        -- Convert the input to lowercase for case-insensitive comparison
        itemName = itemName:lower()

        local closestMatchName = nil
        local closestMatchDistance = math.huge

        -- Iterate over the CustomListItems to find the closest match
        for name, _ in pairs(CustomListItems) do
            local distance = levenshtein(itemName, name:lower())
            if distance < closestMatchDistance then
                closestMatchDistance = distance
                closestMatchName = name
            end
        end

        -- Check if a match is found and if the distance is within a certain threshold
if closestMatchName and closestMatchDistance <= 2 then
    local itemID = CustomListItems[closestMatchName]

    -- Ensure that storage.ALSwap is initialized as a table
    if not storage.ALSwap then
        storage.ALSwap = {}
    end

    -- Check if the item already exists in the loot list
    local itemAlreadyExists = false
    for i, slot in ipairs(storage.ALSwap) do
        if slot.id == itemID then
            itemAlreadyExists = true
            break
        end
    end

    if itemAlreadyExists then
        print("This item already exists in your loot list.")
    else
        -- Find the first slot with ID 0, if available
        local firstSlotWithID0 = nil
        for i, slot in ipairs(storage.ALSwap) do
            if slot.id == 0 then
                firstSlotWithID0 = i
                break
            end
        end

        if firstSlotWithID0 then
            -- Overwrite the first available slot with ID 0
            storage.ALSwap[firstSlotWithID0] = { id = itemID, count = 0 }

            -- Send the add command for the corrected item name
            local add_command = "!autoloot add, " .. closestMatchName
            print("Sending Command: " .. add_command)
            say(add_command)
            autoLoot_DrawItems()
        else
            print("Table is full or needs cleared, please cleanup loot list")
        end
    end
else
    print("Item with name '" .. itemName .. "' not found or too far from the options in the translation table. Please check your spelling.")
end
    else
        print("Please enter an item name.")
    end
end


-- Add a text edit field for ALItem (item name)
addTextEdit("ALItem", storage.ALItem or "Name", function(widget, text)
    storage.ALItem = text
end)


if (storage.ALSwap == nil) then
    storage.ALSwap = {}
end

while (#storage.ALSwap < MAX_SLOTS) do
    table.insert(storage.ALSwap, { id = 0, count = 0 })
end

function sendAutoLootCommands()
    if (storage.ALSwap == nil or #storage.ALSwap == 0) then
        return
    end

    local addedItems = {}  -- Keep track of items that have already been added

    for slot, item in ipairs(storage.ALSwap) do
        if (item.id ~= 0) then
            local itemName = nil
            for name, id in pairs(CustomListItems) do
                if id == item.id then
                    itemName = name
                    break
                end
            end

            if itemName then
                -- Check if the item has not been added already
                if not addedItems[itemName] then
                    local command = "!autoloot add, " .. itemName
                    print("Sending Command: " .. command)
                    say(command)
                    addedItems[itemName] = true  -- Mark the item as added
                end
            else
                print("Item with ID " .. item.id .. " does not exist in the translation table. Please report to Discord.")
            end
        end
    end
end


function autoLoot_UpdateAndRedraw()
    local new_items = {}
    
    for i, child in ipairs(items_list:getChildren()) do
        table.insert(new_items, { id = child:getItemId(), count = child:getItemCount() })
    end

    local added_items = {}
    local removed_items = {}

    for i = 1, #new_items do
        local found = false
        for j = 1, #storage.ALSwap do
            if storage.ALSwap[j].id == new_items[i].id then
                found = true
                break
            end
        end
        if not found then
            table.insert(added_items, new_items[i].id)
        end
    end

    for j = 1, #storage.ALSwap do
        local found = false
        for i = 1, #new_items do
            if storage.ALSwap[j].id == new_items[i].id then
                found = true
                break
            end
        end
        if not found then
            table.insert(removed_items, storage.ALSwap[j].id)
        end
    end

    -- Send !autoloot remove commands for removed items
    for _, removed_item_id in pairs(removed_items) do
        local itemName = nil
        for name, id in pairs(CustomListItems) do
            if id == removed_item_id then
                itemName = name
                break
            end
        end

        if itemName then
            local remove_command = "!autoloot remove, " .. itemName
            print("Sending Command: " .. remove_command)
            say(remove_command)
        else
            print("Item with ID " .. removed_item_id .. " does not exist in the translation table. Please report to Discord.")
        end
    end

    -- Send !autoloot add commands for added items
    for _, added_item_id in pairs(added_items) do
        local itemName = nil
        for name, id in pairs(CustomListItems) do
            if id == added_item_id then
                itemName = name
                break
            end
        end

        if itemName then
            local add_command = "!autoloot add, " .. itemName
            print("Sending Command: " .. add_command)
            say(add_command)
        else
            print("Item with ID " .. added_item_id .. " does not exist in the translation table. Please report to Discord.")
        end
    end

    storage.ALSwap = new_items
    autoLoot_DrawItems() -- Update the UI
end


function ClearAllItems()
    -- Clear the storage data
    storage.ALSwap = {}
    
    -- Send the !autoloot clear command
    say("!autoloot clear")
    print("Sending Command: !autoloot clear")
    autoLoot_DrawItems() -- Redraw the items
end

function autoLoot_DrawItems()
    -- Ensure storage.ALSwap has the same number of slots as MAX_SLOTS with default values
    for i = 1, MAX_SLOTS do
        table.insert(storage.ALSwap, { id = 0, count = 0 })  -- Default values
    end

    items_list:destroyChildren()
    for i = 1, MAX_SLOTS do
        local widget = g_ui.createWidget("BotItem", items_list)
        widget:setItem(Item.create(storage.ALSwap[i].id, storage.ALSwap[i].count))
        widget.onItemChange = autoLoot_UpdateAndRedraw
    end
end

autoLoot_DrawItems()

function showFullLootTable()
    say("!autoloot show")
    print("Sending Command: !autoloot show")
end

-- Add ClearButton functionality
local clear_Button = ui:recursiveGetChildById("Clear_Button")
clear_Button.onClick = ClearAllItems
local addLootUIButton = ui:recursiveGetChildById("LootUIButton")
addLootUIButton.onClick = addLootItemByName
local ShowLoot_Button = ui:recursiveGetChildById("ShowLoot_Button")
ShowLoot_Button.onClick = showFullLootTable

addLabel("Max Slots", "Set Max Autoloot Slots")

-- Add a text edit field for MAX_SLOTS
addTextEdit("Maximum Slots", tostring(MAX_SLOTS), function(widget, text)
    local newMaxSlots = tonumber(text)
    if newMaxSlots and newMaxSlots > 0 then
        MAX_SLOTS = newMaxSlots
        -- Store the updated MAX_SLOTS value in storage
        storage.MAX_SLOTS = MAX_SLOTS
    else
        MAX_SLOTS = 3 -- Default value if the input is invalid
        -- Store the default MAX_SLOTS value in storage
        storage.MAX_SLOTS = MAX_SLOTS
    end
    -- Redraw the items based on the updated MAX_SLOTS value
    autoLoot_DrawItems()
end)

function printALSwapItems()
    print("Items in storage.ALSwap:")
    for i, item in ipairs(storage.ALSwap) do
    end
end
